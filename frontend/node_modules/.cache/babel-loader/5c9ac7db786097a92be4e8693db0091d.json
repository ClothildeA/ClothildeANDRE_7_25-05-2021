{"remainingRequest":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/NewPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/NewPost.vue","mtime":1627546779440},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnLi4vYXBpLXNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5ld1Bvc3QiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRyZTogbnVsbCwKICAgICAgY29udGVudDogbnVsbCwKICAgICAgZmlsZTogIiIsCiAgICAgIHVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0RmlsZTogZnVuY3Rpb24gc2VsZWN0RmlsZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdKTsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgfSwKICAgIHNlbmRQb3N0OiBmdW5jdGlvbiBzZW5kUG9zdChlKSB7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpdHJlJywgdGhpcy50aXRyZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29udGVudCcsIHRoaXMuY29udGVudCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcl9pZCcsIHRoaXMudXNlcklkKTsKCiAgICAgIGlmICh0aGlzLnRpdHJlICYmIHRoaXMuY29udGVudCkgewogICAgICAgIEFwaVNlcnZpY2UuY3JlYXRlUG9zdChmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhbGVydCgnUG9zdCBlbnZvecOpIGF2ZWMgc3VjY8OocyAhJyk7CiAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiVGl0cmUgb3UgbWVzc2FnZSBub24gcmVtcGxpdCAhIik7CiAgICAgIH0KCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["NewPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,UAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,YAAA,CAAA,OAAA,CAAA,QAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAJA;AAKA,IAAA,QALA,oBAKA,CALA,EAKA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,OAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,MAAA;;AACA,UAAA,KAAA,KAAA,IAAA,KAAA,OAAA,EAAA;AACA,QAAA,UAAA,CAAA,UAAA,CAAA,QAAA,EACA,IADA,CACA,YAAA;AACA,UAAA,KAAA,CAAA,2BAAA,CAAA;AACA,UAAA,QAAA,CAAA,QAAA,CAAA,MAAA;AACA,SAJA;AAKA,OANA,MAMA;AACA,QAAA,KAAA,CAAA,gCAAA,CAAA;AACA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA;AArBA;AAVA,CAAA","sourcesContent":["<template>\n            <!--AFFICHAGE DES POSTS-->\n        <form class=\"post_new\" @submit.prevent=\"sendPost\" enctype=\"multipart/form-data\">\n            <label class=\"post_new--label post_title--label\" for=\"Titre de la publication\">Titre de votre publication</label>\n            <textarea class=\"post_new--textarea post_title--textarea\" \n            aria-label=\"Titre\" \n            placeholder=\"Titre\"\n            id=\"postTitre\"\n            v-model=\"titre\"></textarea>\n\n            <label class=\"post_new--label post_content--label\" for=\"Quoi de neuf ?\">Quoi de neuf ?</label>\n            <textarea class=\"post_new--textarea post_content--textarea\" \n            aria-label=\"Quoi de neuf?\" \n            placeholder=\"Quoi de neuf?\"\n            id=\"postContent\"\n            v-model=\"content\"></textarea>\n\n            <input class=\"post_new--file\"\n            type=\"file\" \n            accept=\"image/*\"\n            ref=\"file\"\n            @change=\"selectFile\">\n\n            <button class=\"post_new--btn\" type=\"submit\">Publier</button>\n        </form>\n</template>\n\n<script>\n\nimport  ApiService from '../api-service';\n\nexport default {\nname : \"NewPost\",\ndata() {\n    return {\n     titre: null,\n     content: null,\n     file: \"\",\n     userId: localStorage.getItem('userId')\n    }\n},\nmethods: {\n    selectFile() {\n            console.log(this.$refs.file.files[0]);\n            this.file = this.$refs.file.files[0];  \n        },\n    sendPost(e) {\n        let formData = new FormData();\n        formData.append('titre', this.titre);\n        formData.append('content', this.content);\n        formData.append('file', this.file);\n        formData.append('user_id', this.userId);\n        if (this.titre && this.content) {\n            ApiService.createPost(formData)\n        .then(() => {\n            alert('Post envoyé avec succès !')\n        document.location.reload();\n        })\n        } else {\n            alert(\"Titre ou message non remplit !\")\n        }\n        e.preventDefault();\n    }\n}\n}\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n.post_new {\n        display: flex;\n        flex-direction: column;\n        margin: 1.5rem 1rem;\n        padding: 1.5rem;\n        background-color: white;\n        border-radius: 5px;\n        box-shadow: 0px 10px 10px #E2E2E2;\n\n        .post_content--textarea {\n            height: 75px;\n        }\n\n        &--label {\n            margin-top: 1rem;\n        }\n\n        &--textarea {\n            resize: none;\n            margin-top: .5rem;\n        }\n\n        &--file {\n            margin-top: 1rem;\n        }\n\n        &--btn {\n            width: 60px;\n            align-self: flex-end;\n            margin-top: .5rem;\n            background-color: #fd2d02;\n            color: #FFF;\n            border-radius: 10px;\n            border: none;\n            padding: .5rem;\n            box-shadow: 2px 3px 10px #e2e2e2;\n            font-weight: bold;\n\n            &:hover {\n                opacity: 0.8;\n                box-shadow: 1px 1px 10px #808080;\n                cursor: pointer;\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/components"}]}