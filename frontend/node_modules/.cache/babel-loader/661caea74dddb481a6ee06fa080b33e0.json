{"remainingRequest":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/api-service.js","dependencies":[{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/api-service.js","mtime":1627995885822},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIFVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpLyI7CnZhciBBcGlTZXJ2aWNlID0gewogIHNpZ251cDogZnVuY3Rpb24gc2lnbnVwKG5vbSwgcHJlbm9tLCB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChVUkwgKyAiYXV0aC9zaWdudXAiLCB7CiAgICAgIG5vbTogbm9tLAogICAgICBwcmVub206IHByZW5vbSwKICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICBlbWFpbDogZW1haWwsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgfSk7CiAgfSwKICBsb2dpbjogZnVuY3Rpb24gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChVUkwgKyAiYXV0aC9sb2dpbiIsIHsKICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgIH0pOwogIH0sCiAgZ2V0QWxsUG9zdDogZnVuY3Rpb24gZ2V0QWxsUG9zdCgpIHsKICAgIHJldHVybiBheGlvcy5nZXQoVVJMICsgInBvc3QvZ2V0QWxsIiwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgfQogICAgfSk7CiAgfSwKICBnZXRBbGxDb21tZW50OiBmdW5jdGlvbiBnZXRBbGxDb21tZW50KCkgewogICAgcmV0dXJuIGF4aW9zLmdldChVUkwgKyAiY29tbWVudC9nZXRBbGwiLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9CiAgICB9KTsKICB9LAogIGdldEFsbFVzZXJzOiBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHsKICAgIHJldHVybiBheGlvcy5nZXQoVVJMICsgImF1dGgvdXNlcnMiLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9CiAgICB9KTsKICB9LAogIGdldE9uZVBvc3Q6IGZ1bmN0aW9uIGdldE9uZVBvc3QocG9zdCkgewogICAgcmV0dXJuIGF4aW9zLmdldChVUkwgKyAiYXV0aC9wb3N0LyIuY29uY2F0KHBvc3QucG9zdF9pZCksIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgZ2V0T25lVXNlcjogZnVuY3Rpb24gZ2V0T25lVXNlcih1c2VySWQpIHsKICAgIHJldHVybiBheGlvcy5nZXQoVVJMICsgImF1dGgvdXNlci8iLmNvbmNhdCh1c2VySWQpLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9CiAgICB9KTsKICB9LAogIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHsKICAgIHJldHVybiBheGlvcy5kZWxldGUoVVJMICsgImF1dGgvdXNlci8iLmNvbmNhdChpZCksIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgY3JlYXRlUG9zdDogZnVuY3Rpb24gY3JlYXRlUG9zdChmb3JtRGF0YSkgewogICAgcmV0dXJuIGF4aW9zLnBvc3QoVVJMICsgInBvc3QvY3JlYXRlIiwgZm9ybURhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICB9CiAgICB9KTsKICB9LAogIHJlbW92ZVBvc3Q6IGZ1bmN0aW9uIHJlbW92ZVBvc3QocG9zdCkgewogICAgY29uc29sZS5sb2cocG9zdCk7CiAgICByZXR1cm4gYXhpb3MuZGVsZXRlKFVSTCArICJwb3N0LyIuY29uY2F0KHBvc3QucG9zdF9pZCksIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgY3JlYXRlQ29tbWVudDogZnVuY3Rpb24gY3JlYXRlQ29tbWVudChtZXNzYWdlLCBwb3N0SWQpIHsKICAgIHJldHVybiBheGlvcy5wb3N0KFVSTCArICJjb21tZW50L2NyZWF0ZSIsIHsKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgcG9zdF9pZDogcG9zdElkLAogICAgICB1c2VyX2lkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykKICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgcmVtb3ZlQ29tbWVudDogZnVuY3Rpb24gcmVtb3ZlQ29tbWVudChjb21tZW50KSB7CiAgICBjb25zb2xlLmxvZyhjb21tZW50KTsKICAgIHJldHVybiBheGlvcy5kZWxldGUoVVJMICsgImNvbW1lbnQvIi5jb25jYXQoY29tbWVudC5pZCksIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgQXBpU2VydmljZTs="},{"version":3,"sources":["/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/api-service.js"],"names":["axios","URL","ApiService","signup","nom","prenom","username","email","password","post","login","getAllPost","get","headers","Authorization","localStorage","getItem","getAllComment","getAllUsers","getOnePost","post_id","getOneUser","userId","deleteUser","id","delete","createPost","formData","removePost","console","log","createComment","message","postId","user_id","removeComment","comment"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,GAAG,GAAC,4BAAV;AACA,IAAMC,UAAU,GAAI;AAEjBC,EAAAA,MAFiB,kBAEVC,GAFU,EAELC,MAFK,EAEGC,QAFH,EAEaC,KAFb,EAEoBC,QAFpB,EAE6B;AAC7C,WAAOR,KAAK,CACXS,IADM,CACDR,GAAG,GAAG,aADL,EACmB;AACxBG,MAAAA,GAAG,EAAEA,GADmB;AAExBC,MAAAA,MAAM,EAAEA,MAFgB;AAGxBC,MAAAA,QAAQ,EAAEA,QAHc;AAIxBC,MAAAA,KAAK,EAAEA,KAJiB;AAKxBC,MAAAA,QAAQ,EAAEA;AALc,KADnB,CAAP;AAQD,GAXiB;AAalBE,EAAAA,KAbkB,iBAaZJ,QAbY,EAaFE,QAbE,EAaO;AACvB,WAAOR,KAAK,CACXS,IADM,CACDR,GAAG,GAAG,YADL,EACkB;AACvBK,MAAAA,QAAQ,EAAEA,QADa;AAEvBE,MAAAA,QAAQ,EAAEA;AAFa,KADlB,CAAP;AAKD,GAnBiB;AAqBlBG,EAAAA,UArBkB,wBAqBL;AACX,WAAOX,KAAK,CACTY,GADI,CACAX,GAAG,GAAG,aADN,EACqB;AACpBY,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADpB;AADW,KADrB,CAAP;AAOD,GA7BiB;AA+BlBC,EAAAA,aA/BkB,2BA+BF;AACd,WAAOjB,KAAK,CACTY,GADI,CACAX,GAAG,GAAG,gBADN,EACwB;AACtBY,MAAAA,OAAO,EAAE;AACFC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADzB;AADa,KADxB,CAAP;AAMD,GAtCiB;AAwClBE,EAAAA,WAxCkB,yBAwCJ;AACZ,WAAOlB,KAAK,CACTY,GADI,CACAX,GAAG,GAAG,YADN,EACoB;AAClBY,MAAAA,OAAO,EAAE;AACFC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADzB;AADS,KADpB,CAAP;AAMD,GA/CiB;AAiDlBG,EAAAA,UAjDkB,sBAiDPV,IAjDO,EAiDD;AACf,WAAOT,KAAK,CACTY,GADI,CACAX,GAAG,uBAAgBQ,IAAI,CAACW,OAArB,CADH,EACmC;AACjCP,MAAAA,OAAO,EAAE;AACFC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADzB;AADwB,KADnC,CAAP;AAMD,GAxDiB;AA0DlBK,EAAAA,UA1DkB,sBA0DPC,MA1DO,EA0DC;AACjB,WAAOtB,KAAK,CACTY,GADI,CACAX,GAAG,uBAAgBqB,MAAhB,CADH,EAC6B;AAC3BT,MAAAA,OAAO,EAAE;AACFC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADzB;AADkB,KAD7B,CAAP;AAMD,GAjEiB;AAmElBO,EAAAA,UAnEkB,sBAmEPC,EAnEO,EAmEH;AACb,WAAOxB,KAAK,CACTyB,MADI,CACGxB,GAAG,uBAAgBuB,EAAhB,CADN,EAC2B;AACzBX,MAAAA,OAAO,EAAE;AACFC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADzB;AADgB,KAD3B,CAAP;AAMD,GA1EiB;AA4ElBU,EAAAA,UA5EkB,sBA4EPC,QA5EO,EA4EG;AACnB,WAAO3B,KAAK,CACXS,IADM,CACDR,GAAG,GAAG,aADL,EACoB0B,QADpB,EAEP;AACQd,MAAAA,OAAO,EAAE;AACP,yBAAiB,YAAYE,YAAY,CAACC,OAAb,CAAqB,OAArB,CADtB;AAEP,wBAAgB;AAFT;AADjB,KAFO,CAAP;AAQD,GArFiB;AAuFlBY,EAAAA,UAvFkB,sBAuFPnB,IAvFO,EAuFD;AACfoB,IAAAA,OAAO,CAACC,GAAR,CAAYrB,IAAZ;AAEA,WAAOT,KAAK,CACXyB,MADM,CACCxB,GAAG,kBAAWQ,IAAI,CAACW,OAAhB,CADJ,EAEP;AACQP,MAAAA,OAAO,EAAE;AACDC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAD1B;AADjB,KAFO,CAAP;AAOD,GAjGiB;AAmGlBe,EAAAA,aAnGkB,yBAmGJC,OAnGI,EAmGKC,MAnGL,EAmGa;AAC/B,WAAOjC,KAAK,CACTS,IADI,CACCR,GAAG,GAAG,gBADP,EACwB;AAC3B+B,MAAAA,OAAO,EAAEA,OADkB;AAE3BZ,MAAAA,OAAO,EAAEa,MAFkB;AAG3BC,MAAAA,OAAO,EAAEnB,YAAY,CAACC,OAAb,CAAqB,QAArB;AAHkB,KADxB,EAML;AACQH,MAAAA,OAAO,EAAE;AACDC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAD1B;AADjB,KANK,CAAP;AAWC,GA/GiB;AAiHjBmB,EAAAA,aAjHiB,yBAiHHC,OAjHG,EAiHM;AACtBP,IAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AAEA,WAAOpC,KAAK,CACXyB,MADM,CACCxB,GAAG,qBAAcmC,OAAO,CAACZ,EAAtB,CADJ,EAEP;AACQX,MAAAA,OAAO,EAAE;AACDC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAD1B;AADjB,KAFO,CAAP;AAOD;AA3HiB,CAApB;AA+HA,eAAed,UAAf","sourcesContent":["import axios from \"axios\";\n\nconst URL=\"http://localhost:3000/api/\";\nconst ApiService =  {\n\n   signup(nom, prenom, username, email, password){\n    return axios\n    .post(URL + \"auth/signup\",{ \n      nom: nom,\n      prenom: prenom,\n      username: username,\n      email: email,\n      password: password,\n    })\n  },\n\n  login(username, password){\n    return axios\n    .post(URL + \"auth/login\",{ \n      username: username,\n      password: password,\n    })\n  },\n  \n  getAllPost() {\n    return axios\n      .get(URL + \"post/getAll\", {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n            }\n      })\n      \n  },\n\n  getAllComment() {\n    return axios\n      .get(URL + \"comment/getAll\", {\n             headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n      })\n  },\n\n  getAllUsers() {\n    return axios\n      .get(URL + \"auth/users\", {\n             headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n      })\n  },\n\n  getOnePost(post) {\n    return axios\n      .get(URL + `auth/post/${post.post_id}`, {\n             headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n      })\n  },\n\n  getOneUser(userId) {\n    return axios\n      .get(URL + `auth/user/${userId}`, {\n             headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n      })\n  },\n\n  deleteUser(id) {\n    return axios \n      .delete(URL + `auth/user/${id}`,{\n             headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n      })\n  },\n\n  createPost(formData) {\n    return axios \n    .post(URL + \"post/create\", formData,\n    {\n            headers: {\n              'Authorization': \"Bearer \" + localStorage.getItem(\"token\"),\n              'Content-Type': 'multipart/form-data'\n                }\n    })\n  },\n\n  removePost(post) {\n    console.log(post);\n\n    return axios \n    .delete(URL + `post/${post.post_id}`,\n    {\n            headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n    })\n  },\n\n  createComment(message, postId) {\n  return axios \n    .post(URL + \"comment/create\",{ \n      message: message,\n      post_id: postId,\n      user_id: localStorage.getItem('userId'),\n    },\n    {\n            headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n    })\n  },\n\n   removeComment(comment) {\n    console.log(comment);\n\n    return axios \n    .delete(URL + `comment/${comment.id}`,\n    {\n            headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n    })\n  },\n  \n}\n\nexport default ApiService"]}]}