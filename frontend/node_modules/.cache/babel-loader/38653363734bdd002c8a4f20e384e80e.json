{"remainingRequest":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/Profil.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/Profil.vue","mtime":1627546779490},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnLi4vYXBpLXNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Byb2ZpbCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSksCiAgICAgIHVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpLAogICAgICB1c2VyOiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vQXBwZWwgw6AgQVBJIHBvdXIgYWZmaWNoYWdlIGRlcyBpbmZvcyB1dGlsaXNhdGV1cgogICAgY29uc29sZS5sb2codGhpcy51c2VySWQpOwogICAgQXBpU2VydmljZS5nZXRPbmVVc2VyKHRoaXMudXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmlkKTsKICAgICAgX3RoaXMudXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlT25lVXNlcjogZnVuY3Rpb24gZGVsZXRlT25lVXNlcigpIHsKICAgICAgLy9Gb25jdGlvbiBwZXJtZXR0YW50IMOgIHV0aWxpc2F0ZXVyIGRlIHN1cHByaW1lciBzb24gY29tcHRlIAogICAgICBpZiAoY29uZmlybSgnVm91bGV6LXZvdXMgdnJhaW1lbnQgc3VwcHJpbWVyIHZvdHJlIGNvbXB0ZSA/JykpIHsKICAgICAgICB2YXIgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICAgIEFwaVNlcnZpY2UuZGVsZXRlVXNlcihpZCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgYWxlcnQoJ3ZvdHJlIGNvbXB0ZSBhIGJpZW4gw6l0w6kgc3VwcHJpbcOpICEnKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Profil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,UAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CADA;AAEA,MAAA,MAAA,EAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA;AAAA;;AACA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA,IAAA,UAAA,CAAA,UAAA,CAAA,KAAA,MAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAEA,KALA,EAMA,KANA,CAMA,UAAA,KAAA;AAAA,aAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,KANA;AAOA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;AAEA,UAAA,OAAA,CAAA,+CAAA,CAAA,EAAA;AACA,YAAA,EAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,UAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,oCAAA,CAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAPA,MAOA;AACA;AACA;AACA;AAbA;AApBA,CAAA","sourcesContent":["<template>\n  <section id=\"profil\" class=\"profil\">\n\n    <h1 class=\"profil_title\">Mon profil</h1>\n\n    <div class=\"profil_wrapper\">\n        <p class=\"profil_wrapper--content\">\n            <strong>Nom d'utilisateur:</strong><br>\n            {{user.username}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Nom :</strong><br>\n            {{user.nom}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Prénom :</strong><br>\n            {{user.prenom}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Email :</strong><br>\n            {{user.email}}\n        </p>\n    </div>\n\n    <button class=\"profil_del-btn\" @click=\"deleteOneUser()\">Supprimer mon compte</button>\n\n  </section>\n</template>\n\n\n\n<script>\nimport ApiService from '../api-service';\nexport default {\n    name: 'profil',\n    data(){\n    return {\n        data:JSON.parse(localStorage.getItem('user')),\n        userId: localStorage.getItem('userId'),\n        user:\"\",\n    }\n},\nmounted(){\n    //Appel à API pour affichage des infos utilisateur\n      console.log(this.userId);\n      ApiService.getOneUser(this.userId) \n       .then(response => {\n          console.log(response.data.id)\n          this.user = response.data\n         \n        })\n        .catch(error => console.log(error)) \n    },\nmethods:{\n    deleteOneUser() {//Fonction permettant à utilisateur de supprimer son compte \n  \n        if ( confirm('Voulez-vous vraiment supprimer votre compte ?') ) {\n          const id =  localStorage.getItem('userId');\n          console.log(id);\n          ApiService.deleteUser(id);\n          localStorage.clear();\n          alert('votre compte a bien été supprimé !');\n          this.$router.push('/');\n       } else {\n          return;\n        }\n    },\n}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profil {\n    background-color: #fff;\n    margin: 2rem auto;\n    padding: 2rem;\n    border-radius: 15px;\n    border: 1px solid #e2e2e2;\n    box-shadow: 0px 0px 10px #e2e2e2;\n    max-width: 300px;\n\n    &_title {\n        margin: 0;\n    }\n\n    &_wrapper {\n\n        &--content {\n            color: #808080;\n\n            strong {\n                color: #000;\n            }\n        }\n    }\n    &_del-btn {\n        background-color: #fd2d02;\n        color: #FFF;\n        border-radius: 10px;\n        border: none;\n        padding: .5rem;\n        box-shadow: 2px 3px 10px #e2e2e2;\n        font-weight: bold;\n\n        &:hover {\n            opacity: 0.9;\n            box-shadow: 1px 1px 10px #808080;\n            cursor: pointer;\n        }\n    }\n}\n</style>"],"sourceRoot":"src/components"}]}