{"remainingRequest":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/Profil.vue?vue&type=style&index=0&id=ab833328&lang=scss&scoped=true&","dependencies":[{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/src/components/Profil.vue","mtime":1627995886644},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/clothilde/Desktop/OpenClassRooms/Projet 7/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnByb2ZpbCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgbWFyZ2luOiAycmVtIGF1dG87CiAgICBwYWRkaW5nOiAycmVtOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMmUyZTI7CiAgICBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggI2UyZTJlMjsKICAgIG1heC13aWR0aDogMzAwcHg7CgogICAgJl90aXRsZSB7CiAgICAgICAgbWFyZ2luOiAwOwogICAgfQoKICAgICZfd3JhcHBlciB7CgogICAgICAgICYtLWNvbnRlbnQgewogICAgICAgICAgICBjb2xvcjogIzgwODA4MDsKCiAgICAgICAgICAgIHN0cm9uZyB7CiAgICAgICAgICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgICZfZGVsLWJ0biB7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZkMmQwMjsKICAgICAgICBjb2xvcjogI0ZGRjsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICBwYWRkaW5nOiAuNXJlbTsKICAgICAgICBib3gtc2hhZG93OiAycHggM3B4IDEwcHggI2UyZTJlMjsKICAgICAgICBmb250LXdlaWdodDogYm9sZDsKCiAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCAxMHB4ICM4MDgwODA7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Profil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profil.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section id=\"profil\" class=\"profil\">\n\n    <h1 class=\"profil_title\">Mon profil</h1>\n\n    <div class=\"profil_wrapper\">\n        <p class=\"profil_wrapper--content\">\n            <strong>Nom d'utilisateur:</strong><br>\n            {{user.username}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Nom :</strong><br>\n            {{user.nom}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Prénom :</strong><br>\n            {{user.prenom}}\n        </p>\n\n        <p class=\"profil_wrapper--content\">\n            <strong>Email :</strong><br>\n            {{user.email}}\n        </p>\n    </div>\n\n    <button class=\"profil_del-btn\" @click=\"deleteOneUser()\">Supprimer mon compte</button>\n\n  </section>\n</template>\n\n\n\n<script>\nimport ApiService from '../api-service';\nexport default {\n    name: 'profil',\n    data(){\n    return {\n        data:JSON.parse(localStorage.getItem('user')),\n        userId: localStorage.getItem('userId'),\n        user:\"\",\n    }\n},\nmounted(){\n    //Appel à API pour affichage des infos utilisateur\n      console.log(this.userId);\n      ApiService.getOneUser(this.userId) \n       .then(response => {\n          console.log(response.data.id)\n          this.user = response.data\n         \n        })\n        .catch(error => console.log(error)) \n    },\nmethods:{\n    deleteOneUser() {//Fonction permettant à utilisateur de supprimer son compte \n  \n        if ( confirm('Voulez-vous vraiment supprimer votre compte ?') ) {\n          const id =  localStorage.getItem('userId');\n          console.log(id);\n          ApiService.deleteUser(id);\n          localStorage.clear();\n          alert('votre compte a bien été supprimé !');\n          this.$router.push('/');\n       } else {\n          return;\n        }\n    },\n}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profil {\n    background-color: #fff;\n    margin: 2rem auto;\n    padding: 2rem;\n    border-radius: 15px;\n    border: 1px solid #e2e2e2;\n    box-shadow: 0px 0px 10px #e2e2e2;\n    max-width: 300px;\n\n    &_title {\n        margin: 0;\n    }\n\n    &_wrapper {\n\n        &--content {\n            color: #808080;\n\n            strong {\n                color: #000;\n            }\n        }\n    }\n    &_del-btn {\n        background-color: #fd2d02;\n        color: #FFF;\n        border-radius: 10px;\n        border: none;\n        padding: .5rem;\n        box-shadow: 2px 3px 10px #e2e2e2;\n        font-weight: bold;\n\n        &:hover {\n            opacity: 0.9;\n            box-shadow: 1px 1px 10px #808080;\n            cursor: pointer;\n        }\n    }\n}\n</style>"]}]}